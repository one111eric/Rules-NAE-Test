{
 "when": {
     "pattern": {
       "name": "AlarmInProgress",
       "timestamp": "?time",
       "alarmSessionId": "?id"
     }
 },
 "condition": {
   "not": {
     "pattern": {
       "alarmSessionId": "?id"
     }
      }
 },
 "actions": [
   {
     "endpoint": "http://nae.qa.i.xrs.vacsv.com/notify",
     "code": {
       "location": "locationName",
       "tenant": "xh",
       "type": "ALARM_IN_PROGRESS",
       "transport": [
           "emo"
       ],
       "params": {
           "deviceid": "8987917728960591079",
           "duration": "10000",
           "timezone": "PST8PDT"
       },
       "data": {
           "env": "qa",
           "timestamp": "?time",
           "zone": ""
       }
     }
   },
   {
     "code":"Env.AddFact('', {alarmSessionId: id, ttl: ?livetime});"
   }
 ]
}